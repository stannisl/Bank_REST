# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **REST API —Å–µ—Ä–≤–∏—Å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ **Spring Boot + PostgreSQL + Liquibase + JWT**.

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤—ã–ø—É—Å–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏, –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ **Swagger (OpenAPI)**.

---

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

* **Java 17**
* **Spring Boot 3**

    * Spring Web
    * Spring Data JPA (Hibernate)
    * Spring Security (JWT)
* **PostgreSQL**
* **Liquibase** ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
* **Swagger / Springdoc OpenAPI** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
* **Maven**
* **Docker + docker-compose** (Postgres –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/stannisl/Bank_REST.git
cd Bank_REST
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL —á–µ—Ä–µ–∑ Docker

```bash
docker-compose up -d
```

–ë—É–¥–µ—Ç –ø–æ–¥–Ω—è—Ç–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `bankcards` –Ω–∞ –ø–æ—Ä—Ç—É `5432`.

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
mvn spring-boot:run
```

–ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ —Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
üëâ `http://localhost:8080`

---

## üìë API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
üëâ [http://localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)

–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

### üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

* `POST /api/auth/register` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* `POST /api/auth/login` ‚Äî –≤—Ö–æ–¥ (–ø–æ–ª—É—á–µ–Ω–∏–µ JWT-—Ç–æ–∫–µ–Ω–∞)

### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (Admin only)

* `GET /api/users` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
* `GET /api/users/{id}` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ UUID
* `POST /api/users` ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* `PUT /api/users/{id}` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* `DELETE /api/users/{id}` ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### üí≥ –ö–∞—Ä—Ç—ã

* `GET /api/cards` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É: ACTIVE/BLOCKED/EXPIRED)
* `POST /api/cards` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* `PUT /api/cards/{id}/block` ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É
* `PUT /api/cards/{id}/activate` ‚Äî –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É
* `GET /api/cards/{id}/balance` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç—ã

### üîÑ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

* `POST /api/cards/transfer` ‚Äî –ø–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏

---

## üóÑÔ∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Liquibase**.
–ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/main/resources/db/migration`.

–°–æ–∑–¥–∞—ë—Ç—Å—è 3 —Ç–∞–±–ª–∏—Ü—ã:

* `users` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—Å —Ä–æ–ª—å—é `USER`/`ADMIN`)
* `cards` ‚Äî –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã (–ø—Ä–∏–≤—è–∑–∫–∞ –∫ `users` —á–µ—Ä–µ–∑ `owner_id`)
* `transactions` ‚Äî –ø–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏

---
